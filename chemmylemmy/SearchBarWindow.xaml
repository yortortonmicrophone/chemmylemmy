<Window x:Class="chemmylemmy.SearchBarWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="SearchBar v1.1" Width="420" MinWidth="420"
        WindowStyle="None" ResizeMode="NoResize" Topmost="True" ShowInTaskbar="False" Background="Transparent" AllowsTransparency="True" Opacity="1.0" SizeToContent="Height"
        FontFamily="Cascadia Mono, Consolas, 'Segoe UI', monospace">
    <!-- No local resources needed; all brushes/colors are now in App.xaml -->
        <Border CornerRadius="10" Padding="8" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Background="{StaticResource WindowBackgroundBrush}" BorderBrush="{StaticResource BorderBrush}" BorderThickness="1">

        <Grid>
            <StackPanel>
                <Border CornerRadius="5" Background="{StaticResource SearchBoxBackgroundBrush}" Margin="0,0,0,6" BorderBrush="{StaticResource AccentBrush}" BorderThickness="1">
                    <TextBox x:Name="SearchTextBox" Height="26" FontSize="13" VerticalContentAlignment="Center"
                             Background="Transparent" Foreground="{StaticResource TextBrush}" BorderThickness="0" Padding="6,0"
                             CaretBrush="{StaticResource AccentBrush}" SelectionBrush="{StaticResource HighlightBrush}"
                             TextChanged="SearchTextBox_TextChanged" KeyDown="SearchTextBox_KeyDown"/>
                </Border>
                
                <Border CornerRadius="5" Background="{StaticResource ResultsBoxBackgroundBrush}" BorderBrush="{StaticResource BorderBrush}" BorderThickness="1" Margin="0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock x:Name="ResultsTextBlock" Foreground="{StaticResource TextBrush}" FontSize="12" Text="Results will appear here..."
                                   Padding="8,6,8,6" Margin="0" TextWrapping="Wrap" VerticalAlignment="Top" Grid.Column="0"/>
                        
                        <Image x:Name="StructureImage" Grid.Column="1" Width="150" Height="150" Margin="8,6,8,6" 
                               Stretch="Uniform" Visibility="Collapsed"/>
                    </Grid>
                </Border>
            </StackPanel>
            
            <!-- Copy Confirmation Overlay -->
            <Border x:Name="CopyConfirmationOverlay" 
                    Background="{StaticResource AccentBrush}" 
                    CornerRadius="5" 
                    Padding="12,8" 
                    HorizontalAlignment="Center" 
                    VerticalAlignment="Top" 
                    Margin="0,10,0,0"
                    Opacity="0" 
                    Visibility="Collapsed"
                    Panel.ZIndex="1000">
                <TextBlock x:Name="CopyConfirmationText" 
                           Foreground="{StaticResource WindowBackgroundBrush}" 
                           FontSize="12" 
                           FontWeight="Bold"
                           Text="Copied to clipboard!"/>
            </Border>
        </Grid>
    </Border>
</Window> 